insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9780345339706, 'THE LORD OF THE RINGS : The Fellowship of the Ring', 'J. R. R.', 'Tolkien','Fantasy','423','17.39','7','15', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9788845292613, 'THE LORD OF THE RINGS : The Hobbit', 'J. R. R.', 'Tolkien','Fantasy','326','16.39','2.59','20', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9780345339719, 'THE LORD OF THE RINGS : The Two Towers', 'J. R. R.', 'Tolkien','Fantasy','352','14.99','3.99','12', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9788845292610, 'THE LORD OF THE RINGS : TThe Return of the King', 'J. R. R.', 'Tolkien','Fantasy','416','17.39','2.59','11', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (5903534212230, 'Harry Potter and the Sorcerers Stone', 'J.K.', 'Rowling','Fantasy','243 ','12.99','3.00','13', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (1526618141412, 'Harry Potter and the Order of the Pheonix', 'J.K.', 'Rowling','Fantasy','766 ','25.39','7.99','19', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (1526618265515, 'Harry Potter and the Half-Blood Prince', 'J.K.', 'Rowling','Fantasy','607 ','12.99','3.00','13', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9780140275360, 'The Iliad', 'Homer', 'Homer','Poetry','704 ','12.99','4.49','23', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9780140248377, 'The Oddysey', 'Homer', 'Homer','Poetry','541 ','12.99','4.49','12', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9780439023528, 'The Hunger Games', 'Suzanne', 'Collins','SCI-FI', '384 ','16.99','4.49','14', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9780439023549, 'The Hunger Games: Catching Fire', 'Suzanne', 'Collins','SCI-FI','115 ','12.99','1.99','19', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9780439023321, 'The Hunger Games: MockingJay', 'Suzanne', 'Collins','SCI-FI','227 ','19.99','4.49','14', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (9780434523789, 'The Hunger Games: Ballad of Songbirds and Snakes', 'Suzanne', 'Collins','SCI-FI','528 ','19.99','3.49','20', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (7890434523257, 'Goosebumps: Monster Blood', 'R.L.', 'Stine','Horror','129 ','4.99','0.75','20', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (7890434523456, 'Goosebumps: Say Cheese and Die!', 'R.L.', 'Stine','Horror','98 ','4.99','0.75','16', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (7890434522817, 'Goosebumps: The Ghost Next Door', 'R.L.', 'Stine','Horror','145 ','4.99','0.75','12', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (4200434523269, 'Captain Underpants and the Attack of the Talking Toilets', 'Dav', 'Pikley','Action','112 ','7.99','1.75','25', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (7890434523989, 'Captain Underpants and the Wrath of the Wicked Wedgie Woman', 'Dav', 'Pikley','Action','133 ','7.99','1.75','17', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (1290434956347, 'Smelly Socks', 'Robert', 'Munsch','Children','28 ','2.99','0.20','12', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (1290434523345, 'Alligator Baby', 'Robert', 'Munsch','Children','29 ','2.99','0.20','12', '0');
insert into project.book(isbn, title, author_firstn, author_lastn, genre, page_num, sell_price, publisher_fee, inventory, sales) values (1292544523352, 'The Paper Bag Princess', 'Robert', 'Munsch','Children','35 ','2.99','0.20','12', '0');

insert into project.publisher(publisher_name, email, phone_number) values ('George Allen & Unwin','george.unwin@gmail.com','6136565000');
insert into project.publisher(publisher_name, email, phone_number) values ('Warner Bros.','warner.inc@gmail.com','8995256000');
insert into project.publisher(publisher_name, email, phone_number) values ('Philosophy 101','aristotle.plato@gmail.com','2598224646');
insert into project.publisher(publisher_name, email, phone_number) values ('Scholastic Press','ottawa.schools@gmail.com','6136564585');

SELECT nextval('project.address_address_id_seq'::regclass);
ALTER SEQUENCE project.address_address_id_seq RESTART WITH 1;

insert into project.address(street_num,street_name,apartment,city,province,country,postal_code) values ('1919','Oxford university','456','Oxford','Yorkland','England','k4nljl');
insert into project.address(street_num,street_name,apartment,city,province,country,postal_code) values ('2021','UCLA','4520','Los Angeles','California','America','l6p8v1');
insert into project.address(street_num,street_name,apartment,city,province,country,postal_code) values ('0203','University Halls','145','Athens','Mianland','Greece','t1tb0b');
insert into project.address(street_num,street_name,apartment,city,province,country,postal_code) values ('1234','Carleton University','420','Ottawa','Ontario','Canada','k1n2k9');
insert into project.address(street_num,street_name,apartment,city,province,country,postal_code) values ('3325','Stalwart Crescent','468','Ottawa','Ontario','Canada','k1t0h2');

insert into project.publishes(isbn, publisher_name, year) values (9780345339706, 'George Allen & Unwin', 1939);
insert into project.publishes(isbn, publisher_name, year) values (9788845292613, 'George Allen & Unwin', 1954);
insert into project.publishes(isbn, publisher_name, year) values (9780345339719, 'George Allen & Unwin', 1967);
insert into project.publishes(isbn, publisher_name, year) values (9788845292610, 'George Allen & Unwin', 1969);
insert into project.publishes(isbn, publisher_name, year) values (5903534212230, 'Warner Bros.', 1999);
insert into project.publishes(isbn, publisher_name, year) values (1526618141412, 'Warner Bros.', 2001);
insert into project.publishes(isbn, publisher_name, year) values (1526618265515, 'Warner Bros.', 2006);
insert into project.publishes(isbn, publisher_name, year) values (9780140275360, 'Philosophy 101', 762);
insert into project.publishes(isbn, publisher_name, year) values (9780140248377, 'Philosophy 101', 725);
insert into project.publishes(isbn, publisher_name, year) values (9780439023528, 'Scholastic Press', 2008);
insert into project.publishes(isbn, publisher_name, year) values (9780439023549, 'Scholastic Press', 2009);
insert into project.publishes(isbn, publisher_name, year) values (9780439023321, 'Scholastic Press', 2010);
insert into project.publishes(isbn, publisher_name, year) values (9780434523789, 'Scholastic Press', 2020);
insert into project.publishes(isbn, publisher_name, year) values (7890434523257, 'Scholastic Press', 1999);
insert into project.publishes(isbn, publisher_name, year) values (7890434523456, 'Scholastic Press', 2001);
insert into project.publishes(isbn, publisher_name, year) values (7890434522817, 'Scholastic Press', 2001);
insert into project.publishes(isbn, publisher_name, year) values (4200434523269, 'Scholastic Press', 2005);
insert into project.publishes(isbn, publisher_name, year) values (7890434523989, 'Scholastic Press', 2006);
insert into project.publishes(isbn, publisher_name, year) values (1290434956347, 'Scholastic Press', 1995);
insert into project.publishes(isbn, publisher_name, year) values (1290434523345, 'Scholastic Press', 1996);
insert into project.publishes(isbn, publisher_name, year) values (1292544523352, 'Scholastic Press', 2001);


insert into project.publisherAddress(publisher_name, address_id) values ('George Allen & Unwin', 1);
insert into project.publisherAddress(publisher_name, address_id) values ('Warner Bros.', 2);
insert into project.publisherAddress(publisher_name, address_id) values ('Philosophy 101', 3);
insert into project.publisherAddress(publisher_name, address_id) values ('Scholastic Press', 4);

insert into project.user(user_id, email, password, first_name, last_name, phone_number, isOwner) values ('admin', 'admin@admin.com', '123', 'admin', 'admin', '6131111111', 'true');
insert into project.address(street_num, street_name, apartment, city, province, country, postal_code) VALUES ('123', 'admin', 'A', 'A' , 'Alberta', 'Canada', 'A1A1A1');
insert into project.userAddress(address_id, user_id) values (currval('project.address_address_id_seq'::regclass), 'admin');
insert into project.owner(user_id, expenditure) values ('admin', 0);
insert into project.cart DEFAULT VALUES;
insert into project.userCart(user_id, cart_id) VALUES ('admin', currval('project.cart_cart_id_seq'::regclass));


update project.publisher set bank_account = bank_account + 15*7 where publisher_name = 'George Allen & Unwin';
update project.owner set expenditure = expenditure - 15*7;
update project.publisher set bank_account = bank_account + 20*2.59 where publisher_name = 'George Allen & Unwin';
update project.owner set expenditure = expenditure - 20*2.59;
update project.publisher set bank_account = bank_account + 12*3.99 where publisher_name = 'George Allen & Unwin';
update project.owner set expenditure = expenditure - 12*3.99;
update project.publisher set bank_account = bank_account + 11*2.59 where publisher_name = 'George Allen & Unwin';
update project.owner set expenditure = expenditure - 11*2.59;
update project.publisher set bank_account = bank_account + 13*3 where publisher_name = 'Warner Bros.';
update project.owner set expenditure = expenditure - 13*3;
update project.publisher set bank_account = bank_account + 19*7.99 where publisher_name = 'Warner Bros.';
update project.owner set expenditure = expenditure - 19*7.99;
update project.publisher set bank_account = bank_account + 13*3 where publisher_name = 'Warner Bros.';
update project.owner set expenditure = expenditure - 13*3;
update project.publisher set bank_account = bank_account + 23*4.49 where publisher_name = 'Philosophy 101';
update project.owner set expenditure = expenditure - 23*4.49;
update project.publisher set bank_account = bank_account + 12*4.49 where publisher_name = 'Philosophy 101';
update project.owner set expenditure = expenditure - 12*4.49;
update project.publisher set bank_account = bank_account + 14*4.49 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 14*4.49;
update project.publisher set bank_account = bank_account + 19*1.99 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 19*1.99;
update project.publisher set bank_account = bank_account + 14*4.49 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 14*4.49;
update project.publisher set bank_account = bank_account + 20*3.49 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 20*3.49;
update project.publisher set bank_account = bank_account + 20*0.75 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 20*0.75;
update project.publisher set bank_account = bank_account + 16*0.75 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 16*0.75;
update project.publisher set bank_account = bank_account + 12*0.75 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 12*0.75;
update project.publisher set bank_account = bank_account + 25*1.75 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 25*1.75;
update project.publisher set bank_account = bank_account + 17*1.75 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 17*1.75;
update project.publisher set bank_account = bank_account + 12*0.20 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 12*0.20;
update project.publisher set bank_account = bank_account + 12*0.20 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 12*0.20;
update project.publisher set bank_account = bank_account + 12*0.20 where publisher_name = 'Scholastic Press';
update project.owner set expenditure = expenditure - 12*0.20;

-- Function

CREATE OR REPLACE FUNCTION check_stock_amount(book_isbn numeric(13,0))
    RETURNS BOOLEAN AS $$
BEGIN
    RETURN 10 > (
        SELECT inventory
        FROM project.book
        WHERE isbn = book_isbn
    );
END;
$$ 	LANGUAGE plpgsql;

